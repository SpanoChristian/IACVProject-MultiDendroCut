function [X, G] = lines2dataset(P)

    X = zeros(2, 0);
    G = [];

    % seed the random number generator with the current time
    rng('shuffle');
    
    for l = 1:length(P)
        disp(["y = mx + q " + "y = " + P(l, 1) + "*x + " + P(l, 2))
        %x = -0.65 + rand(1, 50) * 1.3;
        x = linspace(-0.65, 0.65, 50);
        y = P(l, 1)*x + P(l, 2);
        
        % Generate random standard deviation of noise
        sigma = 0.05 + rand() * 0.05;
        
        y_noise = y + sigma*randn(size(y));
        
        % Rescale y-coordinates to [-1, 1]
        y_noise_rescaled = (y_noise - mean(y_noise)) / max(abs(y_noise));
        
        X = [X [x; y_noise_rescaled]];
        G = [G; l*ones(length(x), 1)];
        
    end
    
%     % Add outliers
%     x_out = -0.65 + rand(1, 50) * 1.3;
%     y_out = -0.65 + rand(1, 50) * 1.3;
%     
%     X = [X [x_out; y_out]];
%     G = [G; 0*ones(length(x_out), 1)];
    
end

